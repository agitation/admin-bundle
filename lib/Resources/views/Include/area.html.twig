{% extends ["::layout.web.html.twig", "AppBundle:Include:layout.web.html.twig", "AgitUiBundle:Include:layout/web/page.html.twig"] %}

{% block area_css %}
    {% stylesheets
        "@AgitAdminBundle/Resources/public/css/page.css"
        "@AgitUiBundle/Resources/public/css/message.bubbles.css"
        "@AgitUiBundle/Resources/public/css/calendar.css"
        "@AgitUiBundle/Resources/public/css/datepicker.css"
        "@AgitUiBundle/Resources/public/css/layout.web.css"

        "@AgitMultilangBundle/Resources/public/css/field.css"

        "@AgitAdminBundle/Resources/public/css/forms.css"
        "@AgitAdminBundle/Resources/public/css/listview.css"
        "@AgitAdminBundle/Resources/public/css/editview.css"
        "@AgitAdminBundle/Resources/public/css/settings.css"

        filter="?cleancss"
    %}
    <link href="{{ asset_url }}" type="text/css" rel="stylesheet" />
    {% endstylesheets %}

    {% block area_extra_css %}{% endblock %}
{% endblock %}

{% block header %}
    {% embed "AgitUiBundle:Include:layout/web/include.header.html.twig" %}
        {% block menu %}
            {% import "AgitUiBundle:Include:layout/web/include.menu.html.twig" as nav %}
            {{ nav.menu(getPageTree("/admin"), locale) }}
        {% endblock %}
    {% endembed %}
{% endblock %}

{% block config_js %}
    <script type="text/javascript">/* <![CDATA[ */
        window.ag = window.ag || {};
        ag.cfg = ag.cfg || {};
        ag.cfg.locale = "{{ locale }}";
        ag.cfg.apiBaseUrl = "{{ getApiUrlBase() }}";
        ag.cfg.csrfToken = "{{ getCsrfToken() }}";
    /* ]]> */</script>
{% endblock %}

{% block area_js %}
    {% javascripts
        "@AgitValidationBundle/Resources/public/js/lib/ValidationError.js"
        "@AgitValidationBundle/Resources/public/js/lib/Validation.js"
        "@AgitValidationBundle/Resources/public/js/var/translations.js"

        "@AgitMultilangBundle/Resources/public/js/lib/mlang.js"
        "@AgitMultilangBundle/Resources/public/js/lib/field/Multilang.js"

        "@AgitUiBundle/Resources/public/js/lib/elem/BubblesMessageHandler.js"
        "@AgitUiBundle/Resources/public/js/lib/field/Boolean.js"
        "@AgitUiBundle/Resources/public/js/lib/field/EntitySelect.js"
        "@AgitUiBundle/Resources/public/js/lib/field/Calendar.js"
        "@AgitUiBundle/Resources/public/js/lib/field/Datepicker.js"

        "@AgitAdminBundle/Resources/public/js/var/translations.js"
        "@AgitAdminBundle/Resources/public/js/lib/Preloader.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityPage.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListView.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListExporter.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListTable.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListHeader.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListSearch.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityListMore.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityEditView.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityEditHeader.js"
        "@AgitAdminBundle/Resources/public/js/lib/EditFormSubhead.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityEditForm.js"
        "@AgitAdminBundle/Resources/public/js/lib/EntityEditFormRow.js"
        "@AgitAdminBundle/Resources/public/js/lib/SettingsForm.js"
        "@AgitAdminBundle/Resources/public/js/lib/SettingsHeader.js"
        "@AgitAdminBundle/Resources/public/js/lib/SettingField.js"
        "@AgitAdminBundle/Resources/public/js/lib/FormModal.js"
        "@AgitAdminBundle/Resources/public/js/lib/CloneModal.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Period.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Time.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/LoadableEntitySelect.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Echo.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/EntityEcho.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Tags.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Tag.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/Readonly.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/OneToMany.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/OneToManyRow.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/OneToManyFooter.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/OneToManyEntityFooter.js"
        "@AgitAdminBundle/Resources/public/js/lib/field/KeyValueTable.js"
        "@AgitAdminBundle/Resources/public/js/var/api.js"
        "@AgitAdminBundle/Resources/public/js/ctl/init.js"

        filter="?uglifyjs2"
    %}
    <script src="{{ asset_url }}" type="text/javascript"></script>
    {% endjavascripts %}

    {% block area_extra_js %}{% endblock %}
{% endblock %}

{% block area_templates %}
    {% include "AgitUiBundle:Include:template.message.bubble.html.twig" %}
    {% include "AgitUiBundle:Include:template.calendar.html.twig" %}
    {% include "AgitMultilangBundle:Include:template.formfield.html.twig" %}
    {% include "AgitAdminBundle:Include:template.forms.html.twig" %}
    {% include "AgitAdminBundle:Include:template.listview.html.twig" %}
    {% include "AgitAdminBundle:Include:template.editview.html.twig" %}
    {% include "AgitAdminBundle:Include:template.settings.html.twig" %}

    {% block area_extra_templates %}{% endblock %}
{% endblock %}
